var License = require('../');
var test = require('tap').test;

test('perpetual license', function(t) {
  var now = new Date();
  var perpetual = new License({
    product: '*', features: ['*'],
    activationDate: new Date(0),
    expirationDate: new Date('2525-01-01'), // "if man is still alive"
  });

  t.assert(perpetual.covers('prod', 'feature', now),
           'perpetual license covers prod.feature now');
  t.assert(perpetual.covers(),
           'perpetual is a generally valid license');
  t.end();
});
