var license = require('../');
var tap = require('tap');

tap.test('license features list', function(t) {
  t.test('array', function(t) {
    var input = {product: 'p', features: ['f']};
    var output = new license.License(input);
    t.equivalent(output.details.features, ['f'],
                 'accepts single item features list');
    t.end();
  });
  t.test('comma separated list', function(t) {
    var input = {product: 'p', features: 'f1,f2'};
    var output = new license.License(input);
    t.equivalent(output.details.features, ['f1', 'f2'],
                 'converts comma separated list to features list');
    t.end();
  });
  t.test('single feature string', function(t) {
    var input = {product: 'p', features: 'f'};
    var output = new license.License(input);
    t.equivalent(output.details.features, ['f'],
                 'converts singular feature to features list');
    t.end();
  });
  t.test('feature -> features', function(t) {
    var input = {product: 'p', feature: 'f'};
    var output = new license.License(input);
    t.equivalent(output.details.features, ['f'],
                 'converts singular feature to features list');
    t.end();
  });

  t.end();
});
